$(document).ready(function(){function a(){$("html, body").animate({scrollTop:$("#yt-player").offset().top-20},500)}function b(a,b){var c,d=a[0],e=a[0].split(" "),f=e.join("-");return c='<li data-length_position="'+b+'" data-video_id="'+a[3]+'">',c+='<div class="img-container">',c+='<img src="https://i3.ytimg.com/vi/'+a[3]+'/mqdefault.jpg" width="100%" alt="'+f+'-karaoke-video-thumbnail" title="'+d+'">',c+='<div class="video-thumbnail-play-icon-overlay"></div>',c+="</div>",c+="<h6>",c+=a[0],c+="</h6>",c+="<p>",c+=a[2],c+="</p>",c+="</li>"}function c(){$("#karaoke-slider li img").each(function(){var a,b=$(this).attr("src"),c=$(this),d=c.parent("div");$("<img/>").attr("src",b).load(function(){a={width:this.width,height:this.height},a.width<320&&d.html('<img src="images/no-video-black-with-text-320x180.jpg" width="100%" alt="No-video-available" title="No video available" class="karaoke-slider-no-video-notif">')})})}function d(a,d,e,f,g,h,j){for(;$("#karaoke-slider li").length>0;)$("#karaoke-slider").empty();$("#videos_datatable tbody tr").each(function(){f++,d=$(this),e=s.row(d).data(),g=b(e,f),$("#karaoke-slider").append(g)}),a.reloadSlider({minSlides:2,maxSlides:10,slideWidth:200,moveSlides:1,pager:!1,hideControlOnEnd:!0,infiniteLoop:!1,onSliderLoad:function(){c(),h.length=0;var a=$("#karaoke-slider-container .bx-viewport").height();for($("#karaoke-slider li").css({height:a+"px"}),$('#karaoke-slider li[aria-hidden="false"]').each(function(){var a=$(this).data("length_position");h.push(a)}),i=0;i<h.length;i++)1===h[i]&&($(".bxslider-custom-page-turn").hide(),$("#prev-slider-page").show())},onSlideAfter:function(){for(h.length=0,$(".bxslider-custom-page-turn").hide(),$('#karaoke-slider li[aria-hidden="false"]').each(function(){var a=$(this).data("length_position");h.push(a)}),i=0;i<h.length;i++)1===h[0]&&$("#prev-slider-page").show(),1!==h[0]&&$(".bxslider-custom-page-turn").hide(),h[i]===j&&($(".bxslider-custom-page-turn").hide(),$("#next-slider-page").show())}})}function e(a,b){0===a&&$("#prev-slider-page").hide(),a>0&&$("#prev-slider-page").click(function(){s.page(a-1).draw("page")}),b>a&&$("#next-slider-page").click(function(){s.page(a+1).draw("page")})}function f(a,b){var c,f,g,h=0,i=a.page.info(),j=i.pages,k=a.page(),l=[],m=$("#videos_datatable tbody tr").length;d(b,c,f,h,g,l,m),e(k,j)}function g(){var a;return a='<li data-length_position="1" data-video_id="8oXlq6t2yzU">',a+='<img src="https://i3.ytimg.com/vi/8oXlq6t2yzU/mqdefault.jpg" width="80%" alt="no-video-available-karaoke-video-thumbnail" title="No Video Available">',a+="<h6>",a+="No Video Available",a+="</h6>",a+="<p>",a+="Sorry, Please Try Another Search",a+="</p>",a+="</li>"}function h(a){for(;$("#karaoke-slider li").length>0;)$("#karaoke-slider").empty();var b=g();$("#karaoke-slider").append(b),a.reloadSlider({minSlides:1,maxSlides:1,slideWidth:200,moveSlides:0,pager:!1,hideControlOnEnd:!0,infiniteLoop:!1})}function j(a){h(a)}function k(a){$("#karaokedesclist li").hide(),$("#karaokedesclist li").eq(a).show()}function l(){$("#showinfo").click(function(){$("#karaokedesclist").show()}),$("#hideinfo").click(function(){$("#karaokedesclist").hide()})}function m(){x.removeClass("active"),y.addClass("active"),x=y,z=x.data("video_id"),A=x.data("length_position")-1,B=x.find("h6").text(),C=x.find("p").text(),$(".karaoke-splash-details h4").text(B),$(".karaoke-splash-details p").text(C),$("#videos_datatable tbody tr.active").removeClass("active"),$("#videos_datatable tbody tr").not(".child").eq(A).addClass("active")}function n(a){a&&window.clearTimeout(a)}function o(){x.data("length_position")!=$("#karaoke-slider li").length?(y=x.next(),m()):x.data("length_position")==$("#karaoke-slider li").length&&(y=$("#karaoke-slider li").first(),m()),v.cueVideoById(z)}function p(b){f(s,D),x=$("#karaoke-slider li").first().addClass("active"),$("#videos_datatable tbody tr").first().addClass("active"),A=0,B=x.find("h6").text(),C=x.find("p").text(),$(".karaoke-splash-details h4").text(B),$(".karaoke-splash-details p").text(C),z=x.data("video_id"),v.cueVideoById(z),l(),$("#karaoke-slider li .video-thumbnail-play-icon-overlay").click(function(){n(w),y=$(this).parents("li"),m(),k(A),v.loadVideoById(z),D.goToSlide(A),a()}),$("#videos_datatable tbody tr td .video-thumbnail-play-icon-overlay").click(function(){n(w),y=$("#karaoke-slider li").eq($(this).parents("tr").data("index_position")),m(),k(A),v.loadVideoById(z),D.goToSlide(A),a()}),$("#next-arrow").click(function(){x=$("#karaoke-slider li.active"),x.data("length_position")==$("#karaoke-slider li").length?(y=$("#karaoke-slider li").first(),m(),v.cueVideoById(z),D.goToSlide(A)):x.data("length_position")<$("#karaoke-slider li").length&&(y=x.next(),m(),v.cueVideoById(z),D.goToSlide(A))}),$("#prev-arrow").click(function(){x=$("#karaoke-slider li.active"),1==x.data("length_position")?(y=$("#karaoke-slider li").last(),m(),v.cueVideoById(z),D.goToSlide(A)):x.data("length_position")>0&&(y=x.prev(),m(),v.cueVideoById(z),D.goToSlide(A))}),s.on("draw.dt",function(){n(w),$("#videos_datatable tbody tr td.dataTables_empty").length<1?f(s,D):$("#videos_datatable tbody tr td.dataTables_empty").length>0&&j(D),x=$("#karaoke-slider li").first().addClass("active"),$("#videos_datatable tbody tr").first().addClass("active"),A=0,B=x.find("h6").text(),C=x.find("p").text(),$(".karaoke-splash-details h4").text(B),$(".karaoke-splash-details p").text(C),z=x.data("video_id"),v.cueVideoById(z),l(),$("#karaoke-slider li .video-thumbnail-play-icon-overlay").click(function(){n(w),y=$(this).parents("li"),m(),k(A),v.loadVideoById(z),D.goToSlide(A),a()}),$("#videos_datatable tbody tr td .video-thumbnail-play-icon-overlay").click(function(){n(w),y=$("#karaoke-slider li").eq($(this).parents("tr").data("index_position")),m(),k(A),v.loadVideoById(z),D.goToSlide(A),a()})})}function q(a){5===a.data&&(x=$("#karaoke-slider li.active"),n(w),$("#karaoke-slider li.active").is('[aria-hidden = "true"]')&&D.goToSlide(A),$(".karaoke-splash-details-container").is(":hidden")&&$(".karaoke-splash-details-container").show(),$("#info-buttons ul li#hideinfo").is(":visible")&&($("#info-buttons ul li#hideinfo").hide(),$("#karaokedesclist").hide(),$("#info-buttons ul li#showinfo").show()),k(A),$("#info-buttons ul li#showinfo").click(function(){n(w)}),$("#info-buttons ul li#hideinfo").click(function(){n(w)}),w=window.setTimeout(o,7e3)),1===a.data&&(n(w),$(".karaoke-splash-details-container").is(":visible")&&$(".karaoke-splash-details-container").fadeOut(),A=$("#karaoke-slider li.active").data("length_position")-1,D.goToSlide(A),k(A)),2===a.data&&(n(w),A=$("#karaoke-slider li.active").data("length_position")-1,D.goToSlide(A)),0===a.data&&($("#info-buttons ul li#hideinfo").is(":visible")&&($("#info-buttons ul li#hideinfo").hide(),$("#karaokedesclist").hide(),$("#info-buttons ul li#showinfo").show()),x.data("length_position")!=$("#karaoke-slider li").length?(y=x.next(),m()):x.data("length_position")==$("#karaoke-slider li").length&&(y=$("#karaoke-slider li").first(),m()),v.loadVideoById(z),D.goToSlide(A))}function r(a){if(100===a.data||101===a.data){w&&window.clearTimeout(w);var b=$("#karaoke-slider li.active"),c=$("#karaoke-slider li.active").next(),d=c.data("video_id");b.removeClass("active"),c.addClass("active"),v.loadVideoById(d)}}var s=$("#videos_datatable").DataTable(),t=document.createElement("script");t.src="//www.youtube.com/iframe_api";var u=document.getElementsByTagName("script")[0];u.parentNode.insertBefore(t,u);var v,w,x,y,z,A,B,C,D=$("#karaoke-slider").bxSlider();window.onYouTubeIframeAPIReady=function(){v=new YT.Player("yt-player",{height:"100%",width:"100%",videoId:"",playerVars:{html5:1,playsinline:1,iv_load_policy:3},events:{onReady:p,onStateChange:q,onError:r}})}});