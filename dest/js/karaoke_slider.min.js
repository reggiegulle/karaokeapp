$(document).ready(function(){function a(){$("html, body").animate({scrollTop:$("#karaoke-slider-1").offset().top},500)}function b(){for(;$("#karaoke-slider-1 li").length>0;)$("#karaoke-slider-1").empty();var a='<li class="no_results">';a+="<p>",a+="Sorry, no search results found.  Please try again.",a+="</p>",a+="</li>",$("#karaoke-slider-1").append(a),q.reloadSlider()}function c(a,b){var c=a[0],d=a[0].split(" "),e=d.join("-"),f='<li class="karaoke-slider-1-slide" data-index_position="'+b+'" data-video_id="'+a[3]+'">';return f+='<div class="karaoke-slider-1-slide-player-container"></div>',f+='<div class="karaoke-slider-1-slide-controls">',f+='<img src="https://i3.ytimg.com/vi/'+a[3]+'/hqdefault.jpg" width="100%" alt="'+e+'-karaoke-video-thumbnail">',f+='<button class="karaoke-slider-1-play-button">Play</button>',f+='<div class="karaoke-splash-details">',f+="<h4>"+c+"</h4>",f+="<p>"+a[2]+"</p>",f+="</div>",f+="</div>",f+="</li>"}function d(){$("#karaoke-slider-1 li img").each(function(){var a,b=$(this).attr("src"),c=$(this);$("<img/>").attr("src",b).load(function(){a={width:this.width,height:this.height},a.width<320&&(c.siblings(".karaoke-slider-1-play-button").remove(),c.replaceWith('<div class="offline-notification">Sorry, video is unavailable</div>'))})})}function e(){$("button.karaoke-slider-1-play-button").click(function(){q.stopAuto();var a=$(this).parents("li.karaoke-slider-1-slide").data("video_id"),b=$(this).parent("div.karaoke-slider-1-slide-controls"),c=b.siblings("div.karaoke-slider-1-slide-player-container");b.hide(),c.html('<iframe id="ytplayer" type="text/html" width="100%" height="100%" src="http://www.youtube.com/embed/'+a+'?autoplay=1&rel=0&controls=2&rel=0 frameborder="0"/>').show()})}function f(){if($("#karaoke-slider-1 iframe").length>0){var a=$("#karaoke-slider-1 iframe").parent("div.karaoke-slider-1-slide-player-container"),b=a.siblings("div.karaoke-slider-1-slide-controls");a.empty(),a.hide(),b.show(),q.startAuto()}}function g(b,g,i,k){for(;$("#karaoke-slider-1 li").length>0;)$("#karaoke-slider-1").empty();$("#videos_datatable tbody tr").each(function(){i++,b=$(this),g=s.row(b).data(),k=c(g,i),$("#karaoke-slider-1").append(k)}),q.reloadSlider({auto:!0,pager:!1,infiniteLoop:!1,hideControlOnEnd:!0,pause:6e3,onSliderLoad:function(b){$(".karaoke-slider-1-slide-player-container").hide(),d(),$("#videos_datatable tbody tr td img").click(function(){var b=$(this).parents("tr").data("index_position");q.goToSlide(b),a()}),e(),$("#karaokedesclist").hide(),h(b),j()},onSlideAfter:function(a,b,c){o(a,b,c),$("#karaokedesclist").hide(),$("#info-buttons ul li#hideinfo").is(":visible")&&($("#info-buttons ul li#hideinfo").hide(),$("#info-buttons ul li#showinfo").show()),q.startAuto(),f(),h(c),j()}})}function h(a){$("#karaokedesclist li").hide(),$("#karaokedesclist li").eq(a).show()}function j(){$("#showinfo").click(function(){$("#karaokedesclist").show(),q.stopAuto()}),$("#hideinfo").click(function(){$("#karaokedesclist").hide()})}function k(a){for(;$("#karaoke-slider-2 li").length>0;)$("#karaoke-slider-2").empty();a.length=0,r.reloadSlider()}function l(a,b){var c=(a[0],a[0].split(" ")),d=c.join("-"),e='<li data-index_position="'+b+'" data-video_id="'+a[3]+'">';return e+='<img src="https://i3.ytimg.com/vi/'+a[3]+'/mqdefault.jpg" width="80%" alt="'+d+'-karaoke-video-thumbnail">',e+="<h6>",e+=a[0],e+="</h6>",e+="<p>",e+=a[2],e+="</p>",e+="</li>"}function m(){$("#karaoke-slider-2 li img").each(function(){var a,b=$(this).attr("src"),c=$(this);$("<img/>").attr("src",b).load(function(){a={width:this.width,height:this.height},a.width<320&&c.replaceWith('<div class="offline-notification">Sorry, video is unavailable</div>')})})}function n(){$("#karaoke-slider-2 li").click(function(){var b=$(this).data("index_position")-1;q.goToSlide(b),a()})}function o(a,b,c){r.goToSlide(c)}function p(a,b,c,d,e,f){for(;$("#karaoke-slider-2 li").length>0;)$("#karaoke-slider-2").empty();$("#videos_datatable tbody tr").each(function(){c++,a=$(this),b=s.row(a).data(),d=l(b,c),$("#karaoke-slider-2").append(d)}),r.reloadSlider({minSlides:2,maxSlides:10,slideWidth:200,moveSlides:1,pager:!1,infiniteLoop:!1,hideControlOnEnd:!0,onSliderLoad:function(){for(m(),n(),e.length=0,$('#karaoke-slider-2 li[aria-hidden="false"]').each(function(){var a=$(this).data("index_position");e.push(a)}),i=0;i<e.length;i++)1===e[i]&&($(".bxslider-custom-page-turn").hide(),$("#prev-slider-page").show())},onSlideAfter:function(){for(e.length=0,$(".bxslider-custom-page-turn").hide(),$('#karaoke-slider-2 li[aria-hidden="false"]').each(function(){var a=$(this).data("index_position");e.push(a)}),i=0;i<e.length;i++)1===e[0]&&$("#prev-slider-page").show(),1!==e[0]&&$(".bxslider-custom-page-turn").hide(),e[i]===f&&($(".bxslider-custom-page-turn").hide(),$("#next-slider-page").show())}})}var q=(function(){var a={};return function(b,c,d){d||(d="failedID"),a.uniqueId&&clearTimeout(a.uniqueId),a.uniqueId=setTimeout(b,c)}}(),$("#karaoke-slider-1").bxSlider()),r=$("#karaoke-slider-2").bxSlider(),s=$("#videos_datatable").DataTable();s.on("draw.dt",function(){var a,c,d,e,f=0,h=s.page.info(),i=h.pages,j=s.page(),l=[],m=$("#videos_datatable tbody tr").length;$("#videos_datatable tbody tr td.dataTables_empty").length<1?(g(a,c,f,d),p(a,c,f,e,l,m),0===j&&$("#prev-slider-page").hide(),j>0&&$("#prev-slider-page").click(function(){s.page(j-1).draw("page")}),i>j&&$("#next-slider-page").click(function(){s.page(j+1).draw("page")}),j===i&&$("#next-slider-page").hide()):$("#videos_datatable tbody tr td.dataTables_empty").length>0&&(b(),k(l))})});