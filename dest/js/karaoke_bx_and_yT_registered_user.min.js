$(document).ready(function(){function a(){$("html, body").animate({scrollTop:$("#yt-player").offset().top-20},500)}function b(a,b){var c,d=a[0],e=a[0].split(" "),f=e.join("-");return c='<li data-length_position="'+b+'" data-video_id="'+a[3]+'">',c+='<div class="img-container">',c+='<img src="https://i3.ytimg.com/vi/'+a[3]+'/mqdefault.jpg" width="100%" alt="'+f+'-karaoke-video-thumbnail" title="'+d+'">',c+='<div class="video-thumbnail-play-icon-overlay"></div>',c+="</div>",c+="<h6>",c+=a[0],c+="</h6>",c+="<p>",c+=a[2],c+="</p>",c+="</li>"}function c(){$("#karaoke-slider li img").each(function(){var a,b=$(this).attr("src"),c=$(this),d=c.parent("div");$("<img/>").attr("src",b).load(function(){a={width:this.width,height:this.height},a.width<320&&d.html('<img src="images/no-video-black-with-text-320x180.jpg" width="100%" alt="No-video-available" title="No video available" class="karaoke-slider-no-video-notif">')})})}function d(a,d,e,f,g,h,j){for(;$("#karaoke-slider li").length>0;)$("#karaoke-slider").empty();$("#videos_datatable tbody tr").each(function(){f++,d=$(this),e=q.row(d).data(),g=b(e,f),$("#karaoke-slider").append(g)}),a.reloadSlider({minSlides:2,maxSlides:10,slideWidth:200,moveSlides:1,pager:!1,hideControlOnEnd:!0,infiniteLoop:!1,onSliderLoad:function(){c(),h.length=0;var a=$("#karaoke-slider-container .bx-viewport").height();for($("#karaoke-slider li").css({height:a+"px"}),$('#karaoke-slider li[aria-hidden="false"]').each(function(){var a=$(this).data("length_position");h.push(a)}),i=0;i<h.length;i++)1===h[i]&&($(".bxslider-custom-page-turn").hide(),$("#prev-slider-page").show())},onSlideAfter:function(){for(h.length=0,$(".bxslider-custom-page-turn").hide(),$('#karaoke-slider li[aria-hidden="false"]').each(function(){var a=$(this).data("length_position");h.push(a)}),i=0;i<h.length;i++)1===h[0]&&$("#prev-slider-page").show(),1!==h[0]&&$(".bxslider-custom-page-turn").hide(),h[i]===j&&($(".bxslider-custom-page-turn").hide(),$("#next-slider-page").show())}})}function e(a,b){0===a&&$("#prev-slider-page").hide(),a>0&&$("#prev-slider-page").click(function(){q.page(a-1).draw("page")}),b>a&&$("#next-slider-page").click(function(){q.page(a+1).draw("page")})}function f(a,b){var c,f,g,h=0,i=a.page.info(),j=i.pages,k=a.page(),l=[],m=$("#videos_datatable tbody tr").length;d(b,c,f,h,g,l,m),e(k,j)}function g(){var a;return a='<li data-length_position="1" data-video_id="8oXlq6t2yzU">',a+='<img src="https://i3.ytimg.com/vi/8oXlq6t2yzU/mqdefault.jpg" width="80%" alt="no-video-available-karaoke-video-thumbnail" title="No Video Available">',a+="<h6>",a+="No Video Available",a+="</h6>",a+="<p>",a+="Sorry, Please Try Another Search",a+="</p>",a+="</li>"}function h(a){for(;$("#karaoke-slider li").length>0;)$("#karaoke-slider").empty();var b=g();$("#karaoke-slider").append(b),a.reloadSlider({minSlides:1,maxSlides:1,slideWidth:200,moveSlides:0,pager:!1,hideControlOnEnd:!0,infiniteLoop:!1})}function j(a){h(a)}function k(a){$("#karaokedesclist li").hide(),$("#karaokedesclist li").eq(a).show()}function l(){$("#showinfo").click(function(){$("#karaokedesclist").show()}),$("#hideinfo").click(function(){$("#karaokedesclist").hide()})}function m(){u.removeClass("active"),v.addClass("active"),u=v,w=u.data("video_id"),x=u.data("length_position")-1,y=u.find("h6").text(),z=u.find("p").text(),$(".karaoke-splash-details h4").text(y),$(".karaoke-splash-details p").text(z),$("#videos_datatable tbody tr.active").removeClass("active"),$("#videos_datatable tbody tr").not(".child").eq(x).addClass("active")}function n(b){f(q,A),u=$("#karaoke-slider li").first().addClass("active"),$("#videos_datatable tbody tr").first().addClass("active"),x=0,y=u.find("h6").text(),z=u.find("p").text(),$(".karaoke-splash-details h4").text(y),$(".karaoke-splash-details p").text(z),w=u.data("video_id"),t.cueVideoById(w),l(),$("#karaoke-slider li .video-thumbnail-play-icon-overlay").click(function(){v=$(this).parents("li"),m(),k(x),t.loadVideoById(w),A.goToSlide(x),a()}),$("#videos_datatable tbody tr td .video-thumbnail-play-icon-overlay").click(function(){v=$("#karaoke-slider li").eq($(this).parents("tr").data("index_position")),m(),k(x),t.loadVideoById(w),A.goToSlide(x),a()}),$("#next-arrow").click(function(){u=$("#karaoke-slider li.active"),u.data("length_position")==$("#karaoke-slider li").length?(v=$("#karaoke-slider li").first(),m(),t.cueVideoById(w),A.goToSlide(x)):u.data("length_position")<$("#karaoke-slider li").length&&(v=u.next(),m(),t.cueVideoById(w),A.goToSlide(x))}),$("#prev-arrow").click(function(){u=$("#karaoke-slider li.active"),1==u.data("length_position")?(v=$("#karaoke-slider li").last(),m(),t.cueVideoById(w),A.goToSlide(x)):u.data("length_position")>0&&(v=u.prev(),m(),t.cueVideoById(w),A.goToSlide(x))}),q.on("draw.dt",function(){$("#videos_datatable tbody tr td.dataTables_empty").length<1?f(q,A):$("#videos_datatable tbody tr td.dataTables_empty").length>0&&j(A),u=$("#karaoke-slider li").first().addClass("active"),$("#videos_datatable tbody tr").first().addClass("active"),x=0,y=u.find("h6").text(),z=u.find("p").text(),$(".karaoke-splash-details h4").text(y),$(".karaoke-splash-details p").text(z),w=u.data("video_id"),t.cueVideoById(w),l(),$("#karaoke-slider li .video-thumbnail-play-icon-overlay").click(function(){v=$(this).parents("li"),m(),k(x),t.loadVideoById(w),A.goToSlide(x),a()}),$("#videos_datatable tbody tr td .video-thumbnail-play-icon-overlay").click(function(){v=$("#karaoke-slider li").eq($(this).parents("tr").data("index_position")),m(),k(x),t.loadVideoById(w),A.goToSlide(x),a()})})}function o(a){5===a.data&&(u=$("#karaoke-slider li.active"),$("#karaoke-slider li.active").is('[aria-hidden = "true"]')&&A.goToSlide(x),$(".karaoke-splash-details-container").is(":hidden")&&$(".karaoke-splash-details-container").show(),$("#info-buttons ul li#hideinfo").is(":visible")&&($("#info-buttons ul li#hideinfo").hide(),$("#karaokedesclist").hide(),$("#info-buttons ul li#showinfo").show()),k(x)),1===a.data&&($(".karaoke-splash-details-container").is(":visible")&&$(".karaoke-splash-details-container").fadeOut(),x=$("#karaoke-slider li.active").data("length_position")-1,A.goToSlide(x),k(x)),2===a.data&&(x=$("#karaoke-slider li.active").data("length_position")-1,A.goToSlide(x)),0===a.data&&($("#info-buttons ul li#hideinfo").is(":visible")&&($("#info-buttons ul li#hideinfo").hide(),$("#karaokedesclist").hide(),$("#info-buttons ul li#showinfo").show()),u.data("length_position")!=$("#karaoke-slider li").length?(v=u.next(),m()):u.data("length_position")==$("#karaoke-slider li").length&&(v=$("#karaoke-slider li").first(),m()),t.loadVideoById(w),A.goToSlide(x))}function p(a){if(100===a.data||101===a.data){var b=$("#karaoke-slider li.active"),c=$("#karaoke-slider li.active").next(),d=c.data("video_id");b.removeClass("active"),c.addClass("active"),t.loadVideoById(d)}}var q=$("#videos_datatable").DataTable(),r=document.createElement("script");r.src="//www.youtube.com/iframe_api";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(r,s);var t,u,v,w,x,y,z,A=$("#karaoke-slider").bxSlider();window.onYouTubeIframeAPIReady=function(){t=new YT.Player("yt-player",{height:"100%",width:"100%",videoId:"",playerVars:{html5:1,playsinline:1,iv_load_policy:3},events:{onReady:n,onStateChange:o,onError:p}})}});