$(document).ready(function(){jQuery.fn.dataTableExt.oApi.fnFilterOnReturn=function(a){var b=this;return this.each(function(a){$.fn.dataTableExt.iApiIndex=a;var c=$("input",b.fnSettings().aanFeatures.f);return c.unbind("keyup search input").bind("keypress",function(d){13==d.which&&($.fn.dataTableExt.iApiIndex=a,b.fnFilter(c.val()))}),this}),this};var a='<section id="custom-filter-container" class="container-fluid">';a+='<div class="navbar-header">',a+='<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar-collapse-1" aria-expanded="false">',a+='<span class="icon-bar"></span>',a+='<span class="icon-bar"></span>',a+='<span class="icon-bar"></span>',a+="</button>",a+='<a class="navbar-brand" href="#">Filters</a>',a+="</div>",a+='<div class="collapse navbar-collapse" id="bs-navbar-collapse-1">',a+='<ul id="custom-filter" class="nav navbar-nav col-xs-12">',a+='<li class="filter col-xs-12 col-sm-4 col-md-4">',a+='<select id="decade-filter">',a+='<option value="reset" selected>--Filter By Decade--</option>',a+='<option value="2010">2010s</option>',a+='<option value="2000">2000s</option>',a+='<option value="1990">1990s</option>',a+='<option value="1980">1980s</option>',a+='<option value="1970">1970s</option>',a+='<option value="1960">1960s</option>',a+='<option value="1950">1950s</option>',a+='<option value="1940">1940s</option>',a+="</select>",a+='<button id="reset-decade-filter" class="filter-reset-button">X</button>',a+="</li>",a+='<li class="filter col-xs-12 col-sm-4 col-md-4">',a+='<select id="genre-filter">',a+="</select>",a+='<button id="reset-genre-filter" class="filter-reset-button">X</button>',a+="</li>",a+='<li class="filter col-xs-12 col-sm-4 col-md-4">',a+='<select id="country-filter">',a+="</select>",a+='<button id="reset-country-filter" class="filter-reset-button">X</button>',a+="</li>",a+="</ul>",a+="</div>",a+="</section>";var b="reset",c="reset",d="reset",e="reset",f="reset";$("#videos_datatable").dataTable({processing:!0,serverSide:!0,ajax:{url:"ajax/table_processing.php",data:function(a){a.year_of_release=b,a.genre=c,a.country_of_origin=d}},dom:'<"col-xs-12"f<"#search_reset">><"col-xs-12 navbar navbar-default" <"custom-filter-container container-fluid">><"col-xs-12"i><"col-sm-8 col-xs-12"l><"col-sm-4 col-xs-12"p><"col-xs-12"t><"col-sm-4 col-xs-12"i><"col-sm-8 col-xs-12"p><"col-xs-12"l>r',responsive:!0,columnDefs:[{orderable:!1,targets:[4,10]},{className:"never",targets:[0,11]},{className:"none",targets:[2,5,9,10]},{className:"all strong",targets:[3]},{className:"all",targets:[3,4]},{className:"min-tablet",targets:[7]},{className:"min-desktop",targets:[0,6,8]}],order:[0,"desc"],sPaginationType:"listbox",stateSave:!1,sPaginationType:"listbox"}).fnFilterOnReturn(),$("#search_reset").attr("title","Reset Search").html("X"),$("div.custom-filter-container").html(a);var g=$("#videos_datatable").DataTable();g.on("draw.dt",function(){var a=$.ajax({url:"video_filter_values.php",dataType:"json"});$("#genre-filter").empty(),$("#country-filter").empty(),a.done(function(a){$.each(a.genre,function(a,b){$("#genre-filter").append('<option value="'+b+'">'+b+"</option>")}),$("#genre-filter").prepend('<option value="reset">--Filter By Genre--</option>'),$("#genre-filter").val(e)}).done(function(a){$.each(a.country_of_origin,function(a,b){$("#country-filter").append('<option value="'+b+'">'+b+"</option>")}),$("#country-filter").prepend('<option value="reset">--Filter By Country--</option>'),$("#country-filter").val(f)})}),$("#search_reset").on("click",function(){$(".form-control.input-sm").val(""),g.search("").draw()}),$("#search-reset").click(function(){g.search("").draw()}),$("#decade-filter").change(function(){b=$(this).val(),g.draw()}),$("#genre-filter").change(function(){c=$(this).val(),e=c,g.draw()}),$("#country-filter").change(function(){d=$(this).val(),f=d,g.draw()}),$("#reset-decade-filter").click(function(){$("#decade-filter").val("reset"),b="reset",g.draw()}),$("#reset-genre-filter").click(function(){$("#genre-filter").val("reset"),c="reset",e=c,g.draw()}),$("#reset-country-filter").click(function(){$("#country-filter").val("reset"),d="reset",f=d,g.draw()})});