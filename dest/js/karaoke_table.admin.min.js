$(document).ready(function(){function a(){function a(){$("#owlkaraoke li").each(function(){$(this).addClass("gradient"),$(this).click(function(){var a=$(this).attr("data-htmlindex");player.playVideoAt(a),$("html, body").animate({scrollTop:$("#video-player-container").offset().top},500)})})}function b(){var a=c.page.info(),b=a.page+1,d=a.pages,e=this.currentItem,f=this.maximumItem;1==b?0===e?$(".owl-buttons").html('<div class="owl-next">next</div>'):f>e?$(".owl-buttons").html('<div class="owl-prev">prev</div><div class="owl-next">next</div>'):e===f&&($(".owl-buttons").html('<div class="owl-prev">prev</div><div id="owl-nextpage">next page</div>'),$("#owl-nextpage").click(function(){c.page("next").draw(!1)})):d>b?0===e?($(".owl-buttons").html('<div id="owl-prevpage">prev page</div><div class="owl-next">next</div>'),$("#owl-prevpage").click(function(){c.page("previous").draw(!1)})):f>e?$(".owl-buttons").html('<div class="owl-prev">prev</div><div class="owl-next">next</div>'):e===f&&($(".owl-buttons").html('<div class="owl-prev">prev</div><div id="owl-nextpage">next page</div>'),$("#owl-nextpage").click(function(){c.page("next").draw(!1)})):b==d&&(f>e?($(".owl-buttons").html('<div id="owl-prevpage">prev page</div><div class="owl-next">next</div>'),$("#owl-prevpage").click(function(){c.page("previous").draw(!1)})):e===f&&($(".owl-buttons").html('<div id="owl-prevpage">prev page</div>'),$("#owl-prevpage").click(function(){c.page("previous").draw(!1)})))}var c=$("#videos_datatable").DataTable(),d=$("#owlkaraoke").addClass("owl-carousel"),d=$("#owlkaraoke").addClass("owl-theme");d.owlCarousel(),d.data("owlCarousel").destroy(),$("#owlkaraoke").removeClass("owl-carousel"),$("#owlkaraoke").removeClass("owl-theme"),$("#owlkaraoke").empty(),$("#karaoketitlelist").empty(),$("#karaokedesclist").empty(),$("#videos_datatable tbody tr").each(function(){function a(){return owllitext="",owllitext+="<h6>"+q+"</h6>",owllitext+="<p>"+r+"</p>",owllitext}function b(){var a="";return a+="<h6>"+q+"</h6>",a+="<p>Performed By: "+r+"</p>"}function d(){var a="";return a+=t,a+="<h6>"+q+"</h6>",a+="<p>Composed By: "+x+"</p>",a+="<p>Performed By: "+r+"</p>",a+="<p>From the Album: "+y+"</p>",a+="<p>Year of Release: "+z+"</p>",a+="<p>Genre: "+A+"</p>",a+="<p>Country of Origin: "+B+"</p>",a+="<p>Running Time: "+C+"</p>",a+="<p>Lyrics: </p><br /><pre>"+D+"</pre>"}var e=c.cell(this,0).data(),f=c.cell(this,4).data(),g=$(this).index();$(this).attr({"data-videoid":f,"data-htmlindex":g});var h=(c.row(this).index(),c.cell(this,3).node()),i=c.cell(this,3).data(),j=i.split(" "),k=j.join("+"),l=$(h).html(),m=c.cell(this,0).data(),n=c.cell(this,0).node(),o=($(n).html("<p>"+m+'</p><a href="update_video.php?id='+e+'"><p>Edit Video Details</p></a><a href="delete_video.php?video_id='+f+"&song_title="+k+'" onclick="return confirm(\'Are You Sure?\')"><p>Delete Video</p></a>'),c.cell(this,4).node()),p=$(o).html();$(o).html('<img src="https://i3.ytimg.com/vi/'+p+'/default.jpg" alt="'+l+' thumbnail" width="120px" height="90px" longdesc="Thumbnail for the Youtube karaoke video of '+l+'" />');var q=c.cell(this,3).data(),r=c.cell(this,1).data(),s=$("<li>");s.attr({"data-videoid":f,"data-htmlindex":g});var t=$(o).html();s.append(t);var u=a();s.append(u),$("#owlkaraoke").append(s);var v=$("<li>");v.attr({"data-htmlindex":g}),v.append(b),$("#karaoketitlelist").append(v);var w=$("<li>"),x=c.cell(this,2).data(),y=c.cell(this,5).data(),z=c.cell(this,6).data(),A=c.cell(this,7).data(),B=c.cell(this,8).data(),C=c.cell(this,9).data(),D=c.cell(this,10).data();w.attr({"data-htmlindex":g}),w.append(d),$("#karaokedesclist").append(w)});var d=$("#owlkaraoke").addClass("owl-carousel"),d=$("#owlkaraoke").addClass("owl-theme");d.owlCarousel({itemsDesktop:[1199,5],itemsDesktopSmall:[979,4],itemsTablet:[768,3],itemsMobile:[479,2],pagination:!1,navigation:!0,afterInit:a,beforeMove:b,afterAction:b}),$("#custom-search-input").on("keyup",function(){c.search(this.value).draw()}),$("#search_reset").on("click",function(){$("#custom-search-input").val(""),c.search($("#custom-search-input").val()).draw()})}var b="reset",c="reset",d="reset";$("#videos_datatable").dataTable({processing:!0,serverSide:!0,ajax:{url:"ajax/table_processing.php",data:function(a){a.year_of_release=b,a.genre=c,a.country_of_origin=d}},dom:'<"col-xs-12"i><"col-sm-8 col-xs-12"l><"col-sm-4 col-xs-12"p><"col-xs-12"t><"col-sm-4 col-xs-12"i><"col-sm-8 col-xs-12"p><"col-xs-12"l>r',responsive:!0,columnDefs:[{orderable:!1,targets:[4,10]},{className:"all",targets:[0,11]},{className:"none",targets:[2,5,9,10]},{className:"all strong",targets:[3]},{className:"all",targets:[3,4]},{className:"min-tablet",targets:[7]},{className:"min-desktop",targets:[0,6,8]}],order:[0,"des"],sPaginationType:"listbox",stateSave:!0,stateDuration:86400,drawCallback:function(b){a()}});var e=$("#videos_datatable").DataTable();$("#decade-filter").change(function(){b=$(this).val(),e.draw()}),$("#genre-filter").change(function(){c=$(this).val(),e.draw()}),$("#country-filter").change(function(){d=$(this).val(),e.draw()})});